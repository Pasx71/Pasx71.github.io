---
layout: none # Important: Prevents Jekyll from applying HTML layout
---
[
  {% assign all_items = site.posts | concat: site.collections.websites %}
  {% for item in all_items %}
    {
      "title": {{ item.title | jsonify }},
      "url": {% if item.collection == 'websites' %}{{ item.site_url | jsonify }}{% else %}{{ item.url | relative_url | jsonify }}{% endif %},
      "date": {% if item.date %}{{ item.date | date_to_string | jsonify }}{% else %}null{% endif %},
      "tags": {{ item.tags | jsonify }},
      "content": {{ item.content | strip_html | strip_newlines | normalize_whitespace | jsonify }},
      "description": {{ item.description | jsonify }}
    }{% unless forloop.last %},{% endunless %}
  {% endfor %}
]
